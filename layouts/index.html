{{/* * 这是一个“一体式”的首页布局
  * V3 版本：
  * 1. 修复了暗黑模式 (使用 var(--content))
  * 2. 更换为“极客”等宽字体 (Monospace)
  * 3. 保持手机响应式
  */}}

{{ define "main" }}
<style>
  @import url('https://fonts.googleapis.com/css2?family=Fira+Code&display=swap');
  /* 1. 主容器 (保持不变) */
  main.main {
    display: flex;
    flex-direction: column;
    justify-content: center; /* 垂直居中 */
    align-items: center;   /* 水平居中 */
    text-align: center;
    min-height: 100vh;
  }

  /* 2. 打字机主体 (已更新) */
  #typewriter-container {
    font-size: 4rem; 

    /* === 变更 #1：更换为“极客”等宽字体 === */
    /* 这会依次查找你电脑上安装的字体，最后使用通用 monospace */
    font-family: 'Fira Code', 'Menlo', 'Monaco', monospace;
    
    /* 等宽字体在 300 权重下可能太细，400 (normal) 更清晰 */
    font-weight: 400; 

    /* === 变更 #2：修复暗黑模式 === */
    /* * 不再使用 color: #222;
     * var(--content) 是 PaperMod 的 "正文颜色" 变量
     * 它会在亮色模式下变为深色，在暗色模式下变为亮色
     */
    color: var(--content);
  }

  /* 3. 打字机光标 (已更新) */
  .typed-cursor {
    font-size: 4rem; 

    /* === 变更 #3：修复暗黑模式 (光标) === */
    /* * 使用 var(--tertiary-content) 
     * 这通常是一个比正文 "更灰" 一点的颜色
     * 在暗黑/亮色模式下都会自动适配
     */
    color: var(--tertiary-content);
    animation-duration: 0.7s; 
  }

  /* 4. 响应式：在手机等小屏幕上 (保持不变) */
  /* 这个样式会同时适配新的字体和颜色 */
  @media (max-width: 768px) {
    #typewriter-container,
    .typed-cursor {
      font-size: 2.2rem;
    }
  }
</style>


<main class="main" style="min-height: auto; justify-content: flex-start; padding-top: 15vh;">
    <div id="typewriter-container">
        <span id="typewriter-text"></span>
    </div>

    <div style="width: 100%; max-width: 800px; margin: 3rem auto 0; text-align: left;">
      {{ $pages := where site.RegularPages "Type" "in" site.Params.mainSections }}
      {{ $paginator := .Paginate $pages }}
      {{ range $paginator.Pages }}
      <article class="post-entry">
        <header class="entry-header">
          <h2>
            <a href="{{ .Permalink }}" style="color: var(--content); text-decoration: none;">{{ .Title }}</a>
          </h2>
        </header>
        <div class="entry-content">
          <p>{{ .Summary }}</p>
        </div>
        <footer class="entry-footer">
          <span style="color: var(--secondary); font-size: 0.85rem;">{{ .Date.Format "2006-01-02" }}</span>
        </footer>
      </article>
      {{ end }}
      {{ if gt $paginator.TotalPages 1 }}
      <nav class="pagination">
        {{ if $paginator.HasPrev }}
        <a class="prev" href="{{ $paginator.Prev.URL }}">« 上一页</a>
        {{ end }}
        {{ if $paginator.HasNext }}
        <a class="next" href="{{ $paginator.Next.URL }}">下一页 »</a>
        {{ end }}
      </nav>
      {{ end }}
    </div>
</main>

<script src="https://unpkg.com/typed.js@2.0.16/dist/typed.umd.js"></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var options = {
      strings: ['HBX的快乐博客', '思考, 记录, 沉淀.', 'Welcome to my blog.'],
      typeSpeed: 100,
      backSpeed: 50,
      backDelay: 2000,
      loop: true
    };
    var typed = new Typed('#typewriter-text', options);
  });
</script>

{{ end }}